

class InventarioTienda:
    def __init__(self, nombre_tienda):
        self.nombre_tienda = nombre_tienda
        self.productos = []  

    def agregar_producto(self, nombre, precio, cantidad):
        if precio <= 0 or cantidad <= 0:
            print("Error: precio y cantidad deben ser positivos.")
            return

        for p in self.productos:
            if p['nombre'].lower() == nombre.lower():
                p['precio'] = float(precio)
                p['cantidad'] += int(cantidad)
                print("Producto actualizado.")
                return
            
        nuevo = {'nombre': nombre, 'precio': float(precio), 'cantidad': int(cantidad)}
        self.productos.append(nuevo)
        print("Producto agregado.")

    def vender_producto(self, nombre, cantidad):
        if cantidad <= 0:
            print("Error: la cantidad a vender debe ser positiva.")
            return
        
        for p in self.productos:
            if p['nombre'].lower() == nombre.lower():
                if p['cantidad'] < cantidad:
                    print("Error: no hay suficiente stock.")
                    return
                p['cantidad'] -= cantidad
                print("Venta realizada.")
                return

        print("Error: el producto no existe.")

    def mostrar_inventario(self):
        if len(self.productos) == 0:
            print("Inventario vacío.")
            return

        print("\nInventario de", self.nombre_tienda)
        print("Nombre                Precio     Cantidad")
        print("------------------------------------------")
        for p in self.productos:
            nombre = (p['nombre'] + " " * 20)[:20]
            print(f"{nombre}     ${p['precio']:.2f}        {p['cantidad']}")
        print("------------------------------------------")
    def producto_mas_caro(self):
        if len(self.productos) == 0:
            return None

        mas_caro = self.productos[0]
        for p in self.productos:
            if p['precio'] > mas_caro['precio']:
                mas_caro = p
        return mas_caro

def pedir_float(msg):
    while True:
        texto = input(msg)
        try:
            return float(texto)
        except:
            print("Ingresa un número válido.")

def pedir_int(msg):
    while True:
        texto = input(msg)
        try:
            return int(texto)
        except:
            print("Ingresa un entero válido.")

def mostrar_menu():
    print("\n1) Agregar producto")
    print("2) Vender producto")
    print("3) Mostrar inventario")
    print("4) Producto más caro")
    print("5) Salir")

if __name__ == "__main__":
    tienda = InventarioTienda("Mi Tienda")

    while True:
        mostrar_menu()
        opcion = input("Elige una opción: ")

        if opcion == "1":
            nombre = input("Nombre: ")
            precio = pedir_float("Precio: ")
            cantidad = pedir_int("Cantidad: ")
            tienda.agregar_producto(nombre, precio, cantidad)

        elif opcion == "2":
            nombre = input("Nombre del producto a vender: ")
            cantidad = pedir_int("Cantidad a vender: ")
            tienda.vender_producto(nombre, cantidad)

        elif opcion == "3":
            tienda.mostrar_inventario()

        elif opcion == "4":
            p = tienda.producto_mas_caro()
            if p is None:
                print("No hay productos.")
            else:
                print("Producto más caro:", p['nombre'], "- Precio: $", f"{p['precio']:.2f}")

        elif opcion == "5":
            print("Fin del programa.")
            break

        else:
            print("Opción no válida.")
